<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Editar Torneig</title>
</head>
<body>
  <div class="title-container">
    <h3 class="title">Editar Torneig</h3>
    <img src="../assets/copa.png" alt="Torneig" class="Torneig">
  </div>
  <div class="container">

    <form [formGroup]="myForm" (ngSubmit)="onSubmit()" class="form-container">
      <div class="form-group">
        <label for="nom">Nom:</label>
        <input class="form-control neon-input" formControlName="nom" id="nom">
      </div>
      <div class="form-group">
        <label for="regles">Regles:</label>
        <textarea class="form-control neon-input" formControlName="regles" id="regles"></textarea>
      </div>
      <div class="form-group">
        <label for="premis">Premi:</label>
        <input class="form-control neon-input" formControlName="premis" id="premis">
      </div>
      <div class="form-group">
        <label for="categoria">Categoria:</label>
        <input class="form-control neon-input" formControlName="categoria" id="categoria">
      </div>
      <div class="form-group">
        <label for="format">Format:</label>
        <input class="form-control neon-input" formControlName="format" id="format">
      </div>
      <div class="form-group">
        <label for="data_inici">Data d'Inici:</label>
        <input type="date" class="form-control neon-input" formControlName="data_inici" id="data_inici">
      </div>
      <div class="form-group">
        <label for="data_fi">Data de Fi:</label>
        <input type="date" class="form-control neon-input" formControlName="data_fi" id="data_fi">
      </div>
      <div class="form-group">
        <label>Equips Participants:</label>
        <div *ngFor="let equip of equips" class="form-check">
          <input
            type="checkbox"
            class="form-check-input"
            [id]="'equip-' + equip.id"
            [checked]="myForm.value.equips.includes(equip.id)"
            (change)="onEquipToggle(equip.id)">
          <label class="form-check-label" [for]="'equip-' + equip.id">
            {{ equip.nom }}
          </label>
        </div>
      </div>        
      <div class="form-group">
        <label>Jugadors Participants:</label>
        <div *ngFor="let user of users" class="form-check">
          <input
            type="checkbox"
            class="form-check-input"
            [id]="'user-' + user.id"
            [checked]="myForm.value.users.includes(user.id)"
            (change)="onUserToggle(user.id)">
          <label class="form-check-label" [for]="'user-' + user.id">
            {{ user.name }}
          </label>
        </div>
      </div>      
      <button type="submit" class="neon-button">Guardar</button>
    </form>
  </div>
  <div *ngIf="errorMessage" class="alert alert-danger">
    {{ errorMessage }}
  </div>
</body>
</html>



